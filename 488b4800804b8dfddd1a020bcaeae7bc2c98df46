{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "88ab0d2b_62015e93",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 14,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2020-10-22T22:15:58Z",
      "side": 1,
      "message": "I don\u0027t understand the purpose of this behavior, if the cache file exceeds\nthe diskLimit it renders Gerrit unusable because it doesn\u0027t start anymore\nand it seems the only way to bring it back is either to\ndelete the cache file or increase the limit which seems both suboptimal.",
      "revId": "488b4800804b8dfddd1a020bcaeae7bc2c98df46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04d99a9b_5fcebe47",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 14,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2020-10-23T14:16:34Z",
      "side": 1,
      "message": "The intention of the next change in the chain is to tame the size of the cache file by pruning entries as the cache cannot expand anymore.\nThis change is just about informing the admins of a mismatch between intended configuration and state and inform the admin.\n\n_during_ gerrit execution is just emitting a warning, but _before_ gerrit starts a decision can be enforced to be taken by either removing the cache or to accept a higher diskLimit value.\n\nI guess a third way would be to just emit a warning and do nothing.\n\nWDYT?",
      "parentUuid": "88ab0d2b_62015e93",
      "revId": "488b4800804b8dfddd1a020bcaeae7bc2c98df46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "492b901d_e85d7fbe",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 14,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-10-23T22:23:52Z",
      "side": 1,
      "message": "Actually, the H2 implementation doesn\u0027t guarantee that the size of the H2 file would always be below the diskLimit at all and would not prevent Gerrit to start.\n\nI believe we need to back off and just leave Gerrit to start, possibly just by emitting a warning.",
      "parentUuid": "04d99a9b_5fcebe47",
      "revId": "488b4800804b8dfddd1a020bcaeae7bc2c98df46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7aeb18ab_a61e3378",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 14,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2020-10-26T09:59:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "492b901d_e85d7fbe",
      "revId": "488b4800804b8dfddd1a020bcaeae7bc2c98df46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "70be0b97_9d6e7555",
        "filename": "config.md",
        "patchSetId": 9
      },
      "lineNbr": 32,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-10-22T23:49:44Z",
      "side": 1,
      "message": "That isn\u0027t actually the normal Gerrit behaviour when diskLimit is hit.\nAre you saying that even if we would prune the cache, the size on disk won\u0027t shrink?",
      "revId": "488b4800804b8dfddd1a020bcaeae7bc2c98df46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0da355e0_990f3235",
        "filename": "config.md",
        "patchSetId": 9
      },
      "lineNbr": 32,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2020-10-23T14:16:34Z",
      "side": 1,
      "message": "This behaviour is in response to your comments:\n\u003e Can we possibly just check if the diskLimit is less than the size of the cache file and stop the startup of Gerrit in that case?\n\nDid you mean to suggest a different behaviour?",
      "parentUuid": "70be0b97_9d6e7555",
      "revId": "488b4800804b8dfddd1a020bcaeae7bc2c98df46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "91d4be0a_19856bab",
        "filename": "config.md",
        "patchSetId": 9
      },
      "lineNbr": 32,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-10-23T22:23:52Z",
      "side": 1,
      "message": "Yes, I know, and I believe I was wrong ðŸ‘Ž\nThe H2 implementation won\u0027t stop Gerrit from starting up.",
      "parentUuid": "0da355e0_990f3235",
      "revId": "488b4800804b8dfddd1a020bcaeae7bc2c98df46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c373565e_b58d5c5a",
        "filename": "config.md",
        "patchSetId": 9
      },
      "lineNbr": 32,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2020-10-26T09:59:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "91d4be0a_19856bab",
      "revId": "488b4800804b8dfddd1a020bcaeae7bc2c98df46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}