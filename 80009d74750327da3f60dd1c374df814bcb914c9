{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "fcc609da_d26779cf",
        "filename": "src/main/java/com/googlesource/gerrit/modules/cache/chroniclemap/ChronicleMapStorage.java",
        "patchSetId": 2
      },
      "lineNbr": 344,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-01-27T09:42:31Z",
      "side": 1,
      "message": "Can you also put a total counter?\n(total of errors in any of the caches)",
      "range": {
        "startLine": 344,
        "startChar": 14,
        "endLine": 344,
        "endChar": 72
      },
      "revId": "80009d74750327da3f60dd1c374df814bcb914c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "963fc08a_f38401af",
        "filename": "src/main/java/com/googlesource/gerrit/modules/cache/chroniclemap/ChronicleMapStorage.java",
        "patchSetId": 2
      },
      "lineNbr": 344,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2022-01-27T10:03:36Z",
      "side": 1,
      "message": "This is the cumulative number of errors, isn\u0027t this already the total?",
      "parentUuid": "fcc609da_d26779cf",
      "range": {
        "startLine": 344,
        "startChar": 14,
        "endLine": 344,
        "endChar": 72
      },
      "revId": "80009d74750327da3f60dd1c374df814bcb914c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5ed64eba_87345449",
        "filename": "src/main/java/com/googlesource/gerrit/modules/cache/chroniclemap/ChronicleMapStorage.java",
        "patchSetId": 2
      },
      "lineNbr": 344,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2022-01-31T09:17:02Z",
      "side": 1,
      "message": "oh, I understand what you mean, you mean a _global_ counter, that spans across all caches right?\n\nNot sure this is easily achievable to be honest because ChronicleMapStoreMetrics is *per cache*, so such metric should be emitted elsewhere.\n\nHowever, I don\u0027t believe an additional metric is required, since the same result is achievable by aggregating the metrics at the consumer level.\n\nFor example, in prometheus, one could simply do:\n\n```\n{__name__\u003d~\"cache_chroniclemap_store_put_failures_.*\"}\n```",
      "parentUuid": "963fc08a_f38401af",
      "range": {
        "startLine": 344,
        "startChar": 14,
        "endLine": 344,
        "endChar": 72
      },
      "revId": "80009d74750327da3f60dd1c374df814bcb914c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "124581d8_bae68b5c",
        "filename": "src/main/java/com/googlesource/gerrit/modules/cache/chroniclemap/ChronicleMapStorage.java",
        "patchSetId": 2
      },
      "lineNbr": 344,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-01-31T18:28:48Z",
      "side": 1,
      "message": "Not sure I have the permission to create that metric though, as it is not the responsibility of the Gerrit team.\n\nLet me address this in a follow-up change.",
      "parentUuid": "5ed64eba_87345449",
      "range": {
        "startLine": 344,
        "startChar": 14,
        "endLine": 344,
        "endChar": 72
      },
      "revId": "80009d74750327da3f60dd1c374df814bcb914c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}